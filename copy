// custom-format.js

const { registerFormatType } = wp.richText;
const { toggleFormat } = wp.richText;
const { RichTextToolbarButton } = wp.blockEditor;

registerFormatType('my-plugin/custom-highlight', {
    title: 'Highlight',
    tagName: 'span',
    className: 'custom-highlight',
    edit({ isActive, value, onChange }) {
        return (
            <RichTextToolbarButton
                icon="editor-textcolor"
                title="Highlight"
                onClick={() => {
                    onChange(
                        toggleFormat(value, {
                            type: 'my-plugin/custom-highlight',
                        })
                    );
                }}
                isActive={isActive}
            />
        );
    },
});