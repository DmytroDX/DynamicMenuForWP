// custom-gutenberg-format.js
wp.richText.registerFormatType('custom/scroll-format', {
    title: 'Scroll Format',
    tagName: 'span',  // Використовуємо span, щоб залишатися всередині p
    className: 'class-one',  // Додаємо тільки один клас через className
    attributes: {
        class: 'class',  // Використовуємо для модифікації класу вручну
        'data-scroll': 'data-scroll',  // Атрибут data-scroll
    },
    edit({ isActive, value, onChange }) {
        const onToggleFormat = () => {
            if (isActive) {
                // Видаляємо формат, якщо він активний
                onChange(
                    wp.richText.removeFormat(value, 'custom/scroll-format')
                );
            } else {
                // Додаємо формат, якщо він не активний
                onChange(
                    wp.richText.applyFormat(
                        value,
                        {
                            type: 'custom/scroll-format',
                            attributes: {
                                class: 'class-one class-two',  // Тут додаємо обидва класи
                                'data-scroll': 'true',  // Додаємо атрибут data-scroll
                            }
                        }
                    )
                );
            }
        };

        return wp.element.createElement(
            wp.blockEditor.RichTextToolbarButton, 
            {
                icon: 'admin-site-alt3',  // Іконка для кнопки
                title: 'Scroll Format',
                onClick: onToggleFormat,
                isActive
            }
        );
    }
});