// Додаємо панель для вибору кольору в блок list-item
wp.hooks.addFilter(
    'editor.BlockEdit',
    'custom/list-item-color-control',
    (BlockEdit) => (props) => {
        const { attributes, setAttributes, name } = props;

        // Перевіряємо, чи це core/list-item
        if (name !== 'core/list-item') {
            return <BlockEdit {...props} />;
        }

        const { bulletColor } = attributes;

        return (
            <>
                <BlockEdit {...props} />
                <wp.blockEditor.InspectorControls>
                    <wp.components.PanelBody title="Bullet Color" initialOpen={true}>
                        <wp.components.ColorPalette
                            value={bulletColor}
                            onChange={(color) => setAttributes({ bulletColor: color })}
                        />
                    </wp.components.PanelBody>
                </wp.blockEditor.InspectorControls>
            </>
        );
    }
);

// Додаємо кастомний стиль зі змінною --bullet-color
wp.hooks.addFilter(
    'blocks.getSaveContent.extraProps',
    'custom/list-item-bullet-color-props',
    (extraProps, blockType, attributes) => {
        if (blockType.name === 'core/list-item' && attributes.bulletColor) {
            extraProps.style = {
                ...extraProps.style,
                '--bullet-color': attributes.bulletColor,
            };
        }
        return extraProps;
    }
);